{% extends "base.html" %}

{% block title %}Upload - RAG Chatbot{% endblock %}

{% block content %}
<h3 class="mb-3">Upload Document</h3>

<div class="card shadow-sm">
  <div class="card-body">
    <!-- Tabs -->
    <ul class="nav nav-tabs" id="uploadTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="file-tab" data-bs-toggle="tab" data-bs-target="#filePane" type="button" role="tab">
          <i class="bi bi-file-earmark-arrow-up"></i> File
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="url-tab" data-bs-toggle="tab" data-bs-target="#urlPane" type="button" role="tab">
          <i class="bi bi-link-45deg"></i> URL
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="conf-tab" data-bs-toggle="tab" data-bs-target="#confPane" type="button" role="tab">
          <i class="bi bi-journal-text"></i> Confluence
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="jira-tab" data-bs-toggle="tab" data-bs-target="#jiraPane" type="button" role="tab">
          <i class="bi bi-clipboard"></i> JIRA
        </button>
      </li>
    </ul>

    <!-- Tab Panes -->
    <div class="tab-content mt-3" id="uploadTabsContent">
      <!-- File Upload -->
      <div class="tab-pane fade show active" id="filePane" role="tabpanel">
        <form action="/upload" method="POST" enctype="multipart/form-data" class="mt-3">
          <input type="hidden" name="inputType" value="file">
          <div class="mb-3">
            <label class="form-label fw-bold">Choose a file</label>
            <input type="file" name="file" class="form-control" required>
            <div class="form-text">Supported formats: PDF, TXT</div>
          </div>
          <button class="btn btn-outline-success">
            <i class="bi bi-upload"></i> Upload File
          </button>
        </form>
      </div>

      <!-- URL Upload -->
      <div class="tab-pane fade" id="urlPane" role="tabpanel">
        <form action="/upload" method="POST" class="mt-3">
          <input type="hidden" name="inputType" value="url">
          <div class="mb-3">
            <label class="form-label fw-bold">Enter URL</label>
            <input type="url" name="url" class="form-control" placeholder="https://example.com/doc.pdf" required>
          </div>
          <button class="btn btn-outline-success">
            <i class="bi bi-link-45deg"></i> Add URL
          </button>
        </form>
      </div>

      <!-- Confluence Upload -->
      <div class="tab-pane fade" id="confPane" role="tabpanel">
        <form action="/upload" method="POST" class="mt-3">
          <input type="hidden" name="inputType" value="confluence">
          <div class="mb-3">
            <label class="form-label fw-bold">Confluence Page ID</label>
            <input type="text" name="confluence_id" class="form-control" placeholder="e.g. 123456" required>
          </div>
          <button class="btn btn-outline-success">
            <i class="bi bi-journal-arrow-up"></i> Fetch from Confluence
          </button>
        </form>
      </div>

       <!-- JIRA Upload -->
      <div class="tab-pane fade" id="jiraPane" role="tabpanel">
        <form action="/upload" method="POST" class="mt-3">
          <input type="hidden" name="inputType" value="jira">
          <div class="mb-3">
            <label class="form-label fw-bold">JIRA Issue ID</label>
            <input type="text" name="jira_id" class="form-control" placeholder="e.g. ABC-123" required>
          </div>
          <button class="btn btn-outline-success">
            <i class="bi bi-clipboard-check"></i> Fetch from JIRA
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
